/* Category Post Widget
 * Works well with Median UI v1.6, Fletro Pro v6.1 and iMagz v1.25
 * Made with Love by MotrenID */
function categoryPost(t){var l=173,m=198;var Ne,Be={home:"/",title:'Posts',pstNm:6,thmbSize:600,snptLnth:150,time:"published",pgn:true,ldCl:'loaded'};for(Ne in t)Be[Ne]=("undefined"==t[Ne]?Be:t)[Ne];l='/'.replace(/\/$/,"").replace(/.*?:\/\//g,"//")+"/",m=Be.label&&0<Be.label.length?'/-/'+Be.label:"";!function(n){var p=new XMLHttpRequest();try{p=new XMLHttpRequest()}catch(t){try{p=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{p=new ActiveXObject('Microsoft.XMLHTTP')}catch(t){return console.warn("Something went wrong!")}}}p.onreadystatechange=function(){var t;4==p.readyState&&(200==p.status?(t=JSON.parse(p.responseText),n.success(t)):"function"==typeof n.error&&n.error(p))},p.open("GET",n.url,n.async),p.send()}({url:l+'feeds/posts/default'+encodeURI(m)+'?alt=json&orderby=published&max-results='+Be.pstNm,async:true,success:function(t,e){var s,r,l,c,o,d="";if(null!=document.getElementById(Be.id)){if((e=t.feed).entry&&0!=e.entry.length){function p(t){var e=(t=t.substring(0,10)).substring(0,4),n=t.substring(5,7),t=t.substring(8,10);return['Jan',"Feb",'Mar','Apr','May','Jun',"Jul",'Aug','Sep','Oct',"Nov",'Dec'][parseInt(n-1)]+" "+t+", "+e}d+='<h2 class="title">Posts</h2><div class="blogPts ctgryPts">';for(var x=e.entry,m=0;m<x.length;++m){for(var h=x[m],f=false,e=0,b=h.media$thumbnail?h.media$thumbnail.url:"",g=h.title.$t,v=(h.id.$t.split('blog-')[1].split(".post-")[0],h.id.$t.split("post-")[1],h.link[1].title.split(' Comments')[0]),_=('content'in h)&&0<Be.snptLnth?h.content.$t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<style.*?<\/style>/g,"").replace(/<\!--.*?-->/g,"").split('<a name=\'more\'>')[0].replace(/(<([^>]+)>)/gi,"").replace(/(\r\n|\n|\r)/gm,"").substring(0,Be.snptLnth):"",y=h.link.length;e<y;++e)"alternate"==(s=h.link[e]).rel&&(f=s.href);for(var C=false,w=false,A=0,M=h.category.length;A<M;++A)"Product"==h.category[A].term&&(C=true),"Sponsored"==h.category[A].term&&(w=true);c=b.includes('-rw')?"":"-rw-e30",b=(b=h.content&&""==b?(u=/<img +(.*?)src=(['"])([^'"]+?)(['"])(.*?) *\/?>/i.exec(h.content.$t))&&u[3]?u[3]:"":b).replace(/.*?:\/\//g,"//").replace(/\/s[0-9]+(\-c)?/,"/s"+Be.thmbSize+c).replace(/\=s[0-9]+(\-c)?/,"=s"+Be.thmbSize+c).replace(/\=.*w[0-9].*h[0-9].*-c+(\-c)?/,"=s"+Be.thmbSize+c),r=h.category[0]?'<a aria-label=\''+h.category[0].term+'\' data-text=\''+h.category[0].term+'\' href=\'/search/label/'+encodeURI(h.category[0].term)+"' rel='tag'></a>":"",l=h.category[1]?"<a aria-label='"+h.category[1].term+'\' data-text=\''+h.category[1].term+'\' href=\'/search/label/'+encodeURI(h.category[1].term)+'\' rel=\'tag\'></a>':"",c=p(h.published.$t),v='<div class=\'iFxd\'>'+(null!=v.match(/^[0-9]+$/)&&"0"!=v&&1!=C?"<a aria-label='Comments' class='cmnt' data-text='"+v+'\' href=\''+f+'#comment\' role=\'button\'><svg class=\'line\' viewBox=\'0 0 24 24\'><g transform=\'translate(2.000000, 2.000000)\'><path d=\'M17.0710351,17.0698449 C14.0159481,20.1263505 9.48959549,20.7867004 5.78630747,19.074012 C5.23960769,18.8538953 1.70113357,19.8338667 0.933341969,19.0669763 C0.165550368,18.2990808 1.14639409,14.7601278 0.926307229,14.213354 C-0.787154393,10.5105699 -0.125888852,5.98259958 2.93020311,2.9270991 C6.83146881,-0.9756997 13.1697694,-0.9756997 17.0710351,2.9270991 C20.9803405,6.8359285 20.9723008,13.1680512 17.0710351,17.0698449 Z\'></path></g></svg></a>':"")+(1==C?"<div class='spnr'><svg class='line' viewBox='0 0 24 24'><path d='M4.16989 15.3L8.69989 19.83C10.5599 21.69 13.5799 21.69 15.4499 19.83L19.8399 15.44C21.6999 13.58 21.6999 10.56 19.8399 8.69005L15.2999 4.17005C14.3499 3.22005 13.0399 2.71005 11.6999 2.78005L6.69989 3.02005C4.69989 3.11005 3.10989 4.70005 3.00989 6.69005L2.76989 11.69C2.70989 13.04 3.21989 14.35 4.16989 15.3Z'></path><path d='M9.5 12C10.8807 12 12 10.8807 12 9.5C12 8.11929 10.8807 7 9.5 7C8.11929 7 7 8.11929 7 9.5C7 10.8807 8.11929 12 9.5 12Z'></path></svg></div>":"")+(1==w&&1!=C?'<div class=\'spnr\'><svg class=\'line\' viewBox=\'0 0 24 24\'><path d=\'M13 11L21.2 2.80005\'></path><path d=\'M22 6.8V2H17.2\'></path><path d=\'M11 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V13\'></path></svg></div>':"")+'</div>',v=""!=b?'<div class=\'pThmb\'><a class=\'thmb\' href=\''+f+"'><img alt='"+g+"' class='imgThm lazy' data-src='"+b+'\' src=\'data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\'/></a>'+v+'</div>':'<div class=\'pThmb nul\'><div class=\'thmb\'><span class=\'imgThm\' data-text=\'No image\'></span></div>'+v+'</div>',l=r?'<div class=\'pHdr pSml\'><div class=\'aNm\'>'+(1!=w||1==C?'<div class=\'pLbls\' data-text=\'in\'> '+r+" "+l+'</div>':'<div class=\'pLbls nSpr\'><span data-text=\'Sponsored\'></span></div>')+"</div></div>":"",g="<h2 class='pTtl aTtl sml'><a data-text='"+g+'\' href=\''+f+"' rel='bookmark'>"+g+'</a></h2>',_=""!=_?"<div class='pSnpt"+(1==C?' nTag':"")+"'>"+_+'</div>':"",c='<div class=\'pInf pSml\'><time class=\'aTtmp pTtmp pbl\' data-text=\''+c+'\' title=\'Published: '+c+'\'></time><a aria-label=\'Read more\' class=\'pJmp\' data-text=\'Keep reading\' href=\''+f+'\'></a></div>',o=1==Be.pgn?"<div class='blogPg'><a aria-label='View More' data-text='"+(null!=Be.label&&""!=Be.label?Be.label+' - View More':'View More')+'\' href=\''+(null!=Be.label&&""!=Be.label?'/search/label/'+encodeURI(Be.label):'/search')+"'></a></div>":"",d+=""!=b?'<article class="ntry'+(1==C?' pTag':"")+'">':"<article class='ntry noThmb"+(1==C?" pTag":"")+"'>",d+=v+"<div class='pCntn'>"+l+g+_+c+'</div>',d+='</article>'}d+='</div>'+o,document.getElementById(Be.id).innerHTML=d,document.getElementById(Be.id).classList.add('loaded'),Defer.dom('.lazy',100,'loaded',null,{rootMargin:"1px"})}else""!=Be.label?document.getElementById(Be.id).innerHTML='<h2 class="title">Posts</h2><div class=\'note\'>No Post was found with label \''+Be.label+"'.</div>":document.getElementById(Be.id).innerHTML="<div class='note'>No Post was found.</div>"}else console.log('Sorry, Container with id \''+Be.id+'\' was not found!')},error:function(t){console.log("Failed to get Blog Feeds with status: "+t.status),null!=document.getElementById(Be.id)&&(document.getElementById(Be.id).innerHTML='<div class=\'note wr\'>Failed to load Posts :(</div>')}})}
